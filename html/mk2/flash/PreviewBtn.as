package {	import flash.display.*; 	import flash.events.MouseEvent;	import flash.MovieClip;	import flash.net.URLRequest;	import flash.net.URLLoader;		import flash.media.SoundChannel;		public class PreviewBtn extends MovieClip {		var channel:SoundChannel = new SoundChannel();				public function newBtn(fileMC,Mp3):String { 			var transportMC:MovieClip  = new MovieClip();			var playBtn:Loader = new Loader();			playBtn.load(new URLRequest("http://riff.jimmytidey.co.uk/mk2/images/control_play.png"));			var stopBtn:Loader = new Loader();			stopBtn.load(new URLRequest("http://riff.jimmytidey.co.uk/mk2/images/control_stop.png"));						transportStatus = "playing"; 			transportMC.addChild(playBtn);			transportMC.addEventListener(MouseEvent.CLICK, changeState);						function changeState(obj:Object) {				if (transportStatus == "playing"){ 					while(transportMC.numChildren){						transportMC.removeChildAt(0);					}					transportMC.addChild(stopBtn);					transportStatus = "stopped";					channel = Mp3.play(0,100);				}				else { 					while(transportMC.numChildren){						transportMC.removeChildAt(0);					}					transportMC.addChild(playBtn);					transportStatus = "playing";					channel.stop();									}			}						fileMC.addChild(transportMC); 				}	}}