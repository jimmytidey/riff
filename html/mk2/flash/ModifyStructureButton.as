package {	import flash.net.URLRequest;	import flash.net.URLLoader;	import flash.events.*;	import flash.utils.*;	import flash.display.*; 	import flash.utils.describeType;	import flash.text.TextField;	import flash.text.TextFormat;	import flash.text.Font;	import flash.text.AntiAliasType;	import com.adobe.serialization.json.JSON;	import flash.media.Sound;	import flash.events.*;	import fl.controls.Button;	import fl.controls.TextInput; 	import fl.controls.TextField; 		public class ModifyStructureButton extends MovieClip {		function makeBankOptionButton(_stage, y, jsonData, bank_index, bank_option_index) { 			var addBankOptionBtn:Button = new Button(); 			addBankOptionBtn.label = "Add bank option";			addBankOptionBtn.x = 0			addBankOptionBtn.y =y;			addBankOptionBtn.addEventListener(MouseEvent.CLICK, addBankOption);						function addBankOption() {				json_string = '{"file_location":"a.mp3","sequence":["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],"bank_option_name":"new bank option","overplay":"false","volume":50,"loop":"false"}';				json_array = JSON.decode(json_string);				trace(json_array);				jsonData['banks'][bank_index]['bank_options'].push(json_array);   			}									_stage.addChild(addBankOptionBtn);		}				function makeBankButton(_stage, y, jsonData, bank_index, bank_option_index) { 						var addBankBtn:Button = new Button(); 			addBankBtn.label = "Add bank";			addBankBtn.x = 0			addBankBtn.y =y;			addBankBtn.addEventListener(MouseEvent.CLICK, addBank);						function addBank() {				json_string = '{"bank_options":[{"bank_option_name":"1option","overplay":"false","loop":"false","file_location":"a.mp3","sequence":["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],"volume":50},{"bank_option_name":"3option","overplay":"false","loop":"false","file_location":"a.mp3","sequence":["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],"volume":49},{"bank_option_name":"2option","overplay":"false","loop":"false","file_location":"a.mp3","sequence":["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],"volume":50},{"bank_option_name":"4option","overplay":"false","loop":"false","file_location":"a.mp3","sequence":["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],"volume":49},{"bank_option_name":"1option","overplay":"false","loop":"false","file_location":"a.mp3","sequence":["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],"volume":50}],"bank_name":"new bank"}'; 							json_array = JSON.decode(json_string);				trace(json_array);				jsonData['banks'].push(json_array);   			}										_stage.addChild(addBankBtn);		}				function makeBankName(_stage, y, jsonData, bank_index, bank_option_index) { 			var bankName:TextInput = new TextInput (); 			bankName.text = jsonData['banks'][bank_index]['bank_name'];			bankName.x = 330;			bankName.y =y-20;			bankName.height = 15;			bankName.addEventListener(KeyboardEvent.KEY_DOWN, saveName);						var bankLabel:TextField = new TextField();			bankLabel.text="Bank name:";			bankLabel.x = 267;			bankLabel.y =y-20;								function saveName() {				jsonData['banks'][bank_index]['bank_name'] = addBankOption.text;				trace(jsonData['banks'][bank_index]['bank_name']);			}			_stage.addChild(bankName);			_stage.addChild(bankLabel);		}				}}